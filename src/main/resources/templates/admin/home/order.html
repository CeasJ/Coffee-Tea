<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Orders - Dream Admin</title>
    <link type="text/css" href="/css/admin/admin.css" rel="stylesheet" />

    <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>

    <!-- Angular -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>

    <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
</head>

<body ng-app="order_app" ng-controller="order_ctrl" class="sb-nav-fixed">
    <div th:replace="~{/admin/component/header.html}"></div>
    <div id="layoutSidenav">
        <div id="layoutSidenav_nav">
            <div th:replace="~{/admin/component/sidebar.html}"></div>
        </div>
        <div id="layoutSidenav_content">
            <main>
                <div class="row justify-content-between align-items-center" style="margin: 20px auto;">
                    <div class="d-flex col-md-3">
                        <div class="form-group mb-0 me-3">
                            <label for="categoryFilter" class="fw-bold pt-1" style="font-size: 16px;">
                                <label for="categoryFilter" class="fw-bold pt-1" style="font-size: 16px;">
                                    Filter by Status:
                                </label>
                        </div>
                        <div class="form-group mb-0" style="width: 150px;">
                            <select class="form-control" id="statusFilter" ng-model="selectedStatus"
                                ng-options="s.id as s.name for s in status" ng-change="selectedStatusChanged()">
                                <option value="">All Status</option>
                                <div class="form-group mb-0" style="width: 170px;">
                                    <select class="form-control" id="categoryFilter" ng-model="selectedCategory">
                                        <option value="" selected>All Status</option>
                                        <option>Đã đặt</option>
                                        <option>Đã xác nhận</option>
                                        <option>Đang giao hàng</option>
                                        <option>Đã giao hàng</option>
                                        <option>Đã hủy</option>
                                    </select>
                                </div>
                        </div>
                        <!-- Select để tìm kiếm theo ngày -->
                        <div class="col-md-3">
                            <div class="d-flex">
                                <div class="form-group mb-0 me-3">
                                    <label for="dateFilter" class="fw-bold pt-1" style="font-size: 16px;">
                                        Filter by Date:</label>
                                </div>
                                <div class="form-group mb-0" style="width: 170px;">
                                    <input type="date" class="form-control" id="dateFilter" ng-model="selectedDate">
                                </div>
                            </div>
                        </div>
                        <!-- Thanh tìm kiếm ở góc phải -->
                        <div class="col-md-2 ms-auto">
                            <div class="input-group">
                                <input type="text" class="form-control" placeholder="Search..." aria-label="Search"
                                    aria-describedby="basic-addon2">
                            </div>
                        </div>
                    </div>
                    <!-- Bảng cho trạng thái  -->
                    <div class="card" style="border-radius: 0px; margin-bottom: 40px;" id="order">
                        <div class="card-header d-flex justify-content-between align-items-center">
                            <h4 class="mb-0 text-primary"> <i class="fas fa-table me-1"></i> Orders</h4>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover table-bordered text-center order-datatable">
                                    <thead class="table-dark">
                                        <th>No</th>
                                        <th>ID</th>
                                        <th>CreateDate</th>
                                        <th>CreateTime</th>
                                        <th>Fullname</th>
                                        <th>Address</th>
                                        <th>Total</th>
                                        <th>Status</th>
                                        <th></th>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat-start="order in pagerOrder.paginatedList">
                                            <td>{{$index + 1}}</td>
                                            <td>{{order.id}}</td>
                                            <td>{{order.createDate | date: 'dd-MM-yyyy'}}</td>
                                            <td>{{order.createTime}}</td>
                                            <td>{{order.fullname}}</td>
                                            <td>{{order.address}}</td>
                                            <td>{{order.totalAmount | number : 0}} đ</td>
                                            <td ng-if="order.status === 1"> Đã đặt hàng</td>
                                            <td>
                                                <button class="btn btn-primary"
                                                    ng-click="updateOrder.confirmOrder(order.id)">
                                                    <i class="bi bi-plus-circle-fill"></i>
                                                </button>
                                                <button class="btn btn-danger"
                                                    ng-click="updateOrder.cancelOrder(order.id)">
                                                    <i class="bi bi-x-circle-fill"></i>
                                                </button>
                                                <button class="btn btn-dark" ng-click="edit(item)"
                                                    data-bs-toggle="modal" data-bs-target="#confirmModal">
                                                    <i class="bi bi-eye-fill"></i>
                                                </button>
                                            </td>
                                        </tr>
                                        <tr ng-repeat-end></tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="d-flex justify-content-between align-items-center pt-2 pb-0">
                                <div class="fw-normal" style="font-size: 18px;">
                                    Showing {{pagerOrder.page + 1}} of {{pagerOrder.count}} entries
                                </div>
                                <nav aria-label="Page navigation">
                                    <ul class="pagination justify-content-end">
                                        <li class="page-item">
                                            <button class="page-link" tabindex="-1" aria-disabled="true"
                                                ng-click="pagerOrder.first()">
                                                <i class="bi bi-skip-start-circle-fill"></i>
                                            </button>
                                        </li>
                                        <li class="page-item">
                                            <button class="page-link" tabindex="-1" aria-disabled="true"
                                                ng-click="pagerOrder.prev()">
                                                <i class="bi bi-caret-left-fill"></i>
                                            </button>
                                        </li>
                                        <li class="page-item"><button class="page-link">{{pagerOrder.page + 1}}</button>
                                        </li>
                                        <li class="page-item">
                                            <button class="page-link" ng-click="pagerOrder.next()">
                                                <i class="bi bi-caret-right-fill"></i>
                                            </button>
                                        </li>
                                        <li class="page-item">
                                            <button class="page-link" ng-click="pagerOrder.last()">
                                                <i class="bi bi-skip-end-circle-fill"></i>
                                            </button>
                                        </li>
                                    </ul>
                                </nav>
                            </div>


                        </div>

                    </div>
                    <div class="modal fade" id="confirmModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                        aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel">
                                        <i class="bi bi-pencil-square pe-2"></i>
                                        Orders
                                    </h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <div class="container hs-hd mx-auto">
                                        <h5 class="title-hs col-md-12">Hóa đơn</h5>
                                        <div class="row">
                                            <div class="col-md-6 cnt-hd border-right">
                                                <div class="info-pair">
                                                    <h6>Order ID:</h6>
                                                    <p>{{listOrder[0].id_order}}</p>
                                                </div>
                                                <div class="info-pair">
                                                    <h6>Order Date:</h6>
                                                    <p>{{listOrder[0].order_createDate | date:'dd-MM-yyyy'}}</p>
                                                </div>
                                                <!-- Thêm thông tin khác nếu cần -->
                                            </div>
                                            <div class="col-md-6 cnt-hd">
                                                <div class="info-pair">
                                                    <h6>Thanh toán:</h6>
                                                    <p>Tiền mặt</p>
                                                </div>
                                                <div class="info-pair">
                                                    <h6>Vận chuyển:</h6>
                                                    <p>Shipper</p>
                                                </div>
                                                <!-- Thêm thông tin khác nếu cần -->
                                            </div>
                                        </div>
                                    </div>
                                    <div class="container hs-hd mx-auto" style="margin-top: 30px;">
                                        <h5 class="title-hs col-md-12">Địa chỉ giao hàng</h5>
                                        <div class="row">
                                            <div class="col-md-6 cnt-hd border-right">
                                                <div class="info-pair">
                                                    <h6>Họ và tên:</h6>
                                                    <p>{{listOrder[0].account_fullname}}</p>
                                                </div>
                                                <div class="info-pair">
                                                    <h6>Số điện thoại:</h6>
                                                    <p>{{listOrder[0].account_phone}}</p>
                                                </div>
                                                <div class="info-pair">
                                                    <h6>Địa chỉ:</h6>
                                                    <p>{{listOrder[0].order_address}}</p>
                                                </div>
                                            </div>
                                            <div class="col-md-6 cnt-hd">
                                                <div class="info-pair">
                                                    <h6>Tỉnh/Thành phố:</h6>
                                                    <p>Hồ Chí Minh</p>
                                                </div>
                                                <div class="info-pair">
                                                    <h6>Quận/Huyện:</h6>
                                                    <p>Thủ Đức</p>
                                                </div>
                                                <div class="info-pair">
                                                    <h6>Phường/Xã:</h6>
                                                    <p>Hiệp Bình Phước</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="container" style="margin-top: 30px; padding: 0;">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <table class="table table-bordered table-details">
                                                    <thead class="table-dark">
                                                        <tr>
                                                            <th>No.</th>
                                                            <th>Hình ảnh</th>
                                                            <th>Tên sản phẩm</th>
                                                            <th>Số lượng</th>
                                                            <th>Size</th>
                                                            <th>Giá</th>
                                                            <th>Tổng tiền</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat="orderDetail in listOrder">
                                                            <td>{{$index + 1}}</td>
                                                            <td><img ng-src="{{'/img/gallery/' + orderDetail.product_image}}"
                                                                    class="img-fluid img-details"></td>
                                                            <td>{{orderDetail.product_name}}</td>
                                                            <td>{{orderDetail.quantity}}</td>
                                                            <td ng-if="orderDetail.id_size === 1">S</td>
                                                            <td ng-if="orderDetail.id_size === 2">M</td>
                                                            <td ng-if="orderDetail.id_size === 3">L</td>
                                                            <td>{{orderDetail.price | number : 0}} đ</td>
                                                            <td>{{orderDetail.quantity * orderDetail.price | number :0}}
                                                                đ</td>
                                                        </tr>
                                                        <tr>
                                                            <td colspan="5" class="text-end"><strong>Tạm
                                                                    tính:</strong></td>
                                                            <td>{{getSubTotal() | number : 0}} đ</td>
                                                        </tr>
                                                        <tr>
                                                            <td colspan="5" class="text-end"><strong>Chi phí vận
                                                                    chuyển:</strong>
                                                            </td>
                                                            <td>20.000 đ</td>
                                                        </tr>
                                                        <tr>
                                                            <td colspan="5" class="text-end"><strong>Tổng thanh
                                                                    toán:</strong></td>
                                                            <th class="text-success">{{getTotal() | number : 0}} đ</th>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mt-2" style="font-size: 20px;">
                                        <label for="confirmOrderStatus" class="form-label fw-bold mb-3">
                                            Order Status:</label>
                                        <span class="fw-bold text-primary ps-1">Đã đặt hàng</span>
                                    </div>
                                    <!-- Add more input fields here based on your table columns -->
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary"
                                        data-bs-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Bảng cho trạng thái confirm -->
                    <div class="card" style="border-radius: 0px; margin-bottom: 40px;" id="order-confirm">
                        <div class="card-header d-flex justify-content-between align-items-center">
                            <h4 class="text-info mb-0"> <i class="fas fa-table me-1"></i> Processing</h4>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover table-bordered text-center order-datatable">
                                    <thead class="table-dark">
                                        <th>No</th>
                                        <th>ID</th>
                                        <th>CreateDate</th>
                                        <th>Fullname</th>
                                        <th>Address</th>
                                        <th>Total Amount</th>
                                        <th>Status</th>
                                        <th></th>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat-start="order in pagerOrderConfirm.paginatedList">
                                            <td>{{$index + 1 }}</td>
                                            <td>{{order.id}}</td>
                                            <td>{{order.createDate | date: 'dd-MM-yyyy'}}</td>
                                            <td>{{order.fullname}}</td>
                                            <td>{{order.address}}</td>
                                            <td>{{order.totalAmount | number : 0}} đ</td>
                                            <td ng-if="order.status === 2"> Đã xác nhận</td>
                                            <td>
                                                <button class="btn btn-info"
                                                    ng-click="updateOrder.shippingOrder(order.id)">
                                                    <i class="bi bi-truck-front-fill"></i>
                                                </button>
                                                <button class="btn btn-danger"
                                                    ng-click="updateOrder.cancelOrder(order.id)">
                                                    <i class="bi bi-x-circle-fill"></i>
                                                </button>
                                                <button class="btn btn-dark" data-bs-toggle="modal"
                                                    data-bs-target="#processingModal">
                                                    <i class="bi bi-eye-fill"></i>
                                                </button>
                                            </td>
                                        </tr>
                                        <tr ng-repeat-end></tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="d-flex justify-content-between align-items-center pt-2 pb-0">
                                <div class="fw-normal" style="font-size: 18px;">
                                    Showing {{pagerOrderConfirm.page + 1}} of {{pagerOrderConfirm.count}} entries
                                </div>
                                <nav aria-label="Page navigation">
                                    <ul class="pagination justify-content-end">
                                        <li class="page-item">
                                            <button class="page-link" tabindex="-1" aria-disabled="true"
                                                ng-click="pagerOrderConfirm.first()">
                                                <i class="bi bi-skip-start-circle-fill"></i>
                                            </button>
                                        </li>
                                        <li class="page-item">
                                            <button class="page-link" tabindex="-1" aria-disabled="true"
                                                ng-click="pagerOrderConfirm.prev()">
                                                <i class="bi bi-caret-left-fill"></i>
                                            </button>
                                        </li>
                                        <li class="page-item"><button class="page-link">{{pagerOrderConfirm.page +
                                                1}}</button></li>
                                        <li class="page-item">
                                            <button class="page-link" ng-click="pagerOrderConfirm.next()">
                                                <i class="bi bi-caret-right-fill"></i>
                                            </button>
                                        </li>
                                        <li class="page-item">
                                            <button class="page-link" ng-click="pagerOrderConfirm.last()">
                                                <i class="bi bi-skip-end-circle-fill"></i>
                                            </button>
                                        </li>
                                    </ul>
                                </nav>
                            </div>

                        </div>
                    </div>
                    <div class="modal fade" id="processingModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                        aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel">
                                        <i class="bi bi-pencil-square pe-2"></i>
                                        Processing
                                    </h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <div class="container hs-hd mx-auto">
                                        <h5 class="title-hs col-md-12">Hóa đơn</h5>
                                        <div class="row">
                                            <div class="col-md-6 cnt-hd border-right">
                                                <div class="info-pair">
                                                    <h6>Order ID:</h6>
                                                    <p>#{{listOrder.id_order}}</p>
                                                </div>
                                                <div class="info-pair">
                                                    <h6>Order Date:</h6>
                                                    <p>{{listOrder[0].order_createDate | date:'dd-MM-yyyy'}}</p>
                                                </div>
                                                <!-- Thêm thông tin khác nếu cần -->
                                            </div>
                                            <div class="col-md-6 cnt-hd">
                                                <div class="info-pair">
                                                    <h6>Thanh toán:</h6>
                                                    <p>Tiền mặt</p>
                                                </div>
                                                <div class="info-pair">
                                                    <h6>Vận chuyển:</h6>
                                                    <p>Shipper</p>
                                                </div>
                                                <!-- Thêm thông tin khác nếu cần -->
                                            </div>
                                        </div>
                                    </div>
                                    <div class="container hs-hd mx-auto" style="margin-top: 30px;">
                                        <h5 class="title-hs col-md-12">Địa chỉ giao hàng</h5>
                                        <div class="row">
                                            <div class="col-md-6 cnt-hd border-right">
                                                <div class="info-pair">
                                                    <h6>Họ và tên:</h6>
                                                    <p>{{listOrder[0].account_fullname}}</p>
                                                </div>
                                                <div class="info-pair">
                                                    <h6>Số điện thoại:</h6>
                                                    <p>{{listOrder[0].account_phone}}</p>
                                                </div>
                                                <div class="info-pair">
                                                    <h6>Địa chỉ:</h6>
                                                    <p>{{listOrder[0].order_address}}</p>
                                                </div>
                                            </div>
                                            <div class="col-md-6 cnt-hd">
                                                <div class="info-pair">
                                                    <h6>Tỉnh/Thành phố:</h6>
                                                    <p>Hồ Chí Minh</p>
                                                </div>
                                                <div class="info-pair">
                                                    <h6>Quận/Huyện:</h6>
                                                    <p>Thủ Đức</p>
                                                </div>
                                                <div class="info-pair">
                                                    <h6>Phường/Xã:</h6>
                                                    <p>Hiệp Bình Phước</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="container" style="margin-top: 30px; padding: 0;">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <table class="table table-bordered table-details">
                                                    <thead class="table-dark">
                                                        <tr>
                                                            <th>STT.</th>
                                                            <th>Hình ảnh</th>
                                                            <th>Tên sản phẩm</th>
                                                            <th>Số lượng</th>
                                                            <th>Size</th>
                                                            <th>Giá</th>
                                                            <th>Tổng tiền</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat="orderDetail in listOrder">
                                                            <td>{{$index + 1}}</td>
                                                            <td><img ng-src="{{'/img/gallery/' + orderDetail.product_image}}"
                                                                    class="img-fluid img-details"></td>
                                                            <td>{{orderDetail.product_name}}</td>
                                                            <td>{{orderDetail.quantity}}</td>
                                                            <td ng-if="orderDetail.id_size === 1">S</td>
                                                            <td ng-if="orderDetail.id_size === 2">M</td>
                                                            <td ng-if="orderDetail.id_size === 3">L</td>
                                                            <td>{{orderDetail.price | number : 0}} đ</td>
                                                            <td>{{orderDetail.quantity * orderDetail.price | number :0}}
                                                                đ</td>
                                                        </tr>
                                                        <td colspan="5" class="text-end">
                                                            <strong>Tạm tính:</strong>
                                                        </td>
                                                        <td>{{getSubTotal() | number : 0}} đ</td>
                                                        </tr>
                                                        <tr>
                                                            <td colspan="5" class="text-end">
                                                                <strong>Chi phí vận chuyển:</strong>
                                                            </td>
                                                            <td>20.000 đ</td>
                                                        </tr>
                                                        <tr>
                                                            <td colspan="5" class="text-end">
                                                                <strong> Tổng thanh toán:</strong>
                                                            </td>
                                                            <th class="text-success">{{getTotal() | number : 0}} đ</th>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mt-2" style="font-size: 20px;">
                                        <label for="processingOrderStatus" class="form-label fw-bold mb-3">
                                            Order Status:</label>
                                        <span class="fw-bold text-primary ps-1">Đã xác nhận</span>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary"
                                        data-bs-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Bảng cho trạng thái shipping -->
                    <div class="card" style="border-radius: 0px; margin-bottom: 40px;" id="order-shipping">
                        <div class="card-header d-flex justify-content-between align-items-center">
                            <h4 class="text-dark mb-0"><i class="fas fa-table me-1"></i> Shipping</h4>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover table-bordered text-center order-datatable">
                                    <thead class="table-dark">
                                        <th>No</th>
                                        <th>ID</th>
                                        <th>CreateDate</th>
                                        <th>Fullname</th>
                                        <th>Address</th>
                                        <th>Total Amount</th>
                                        <th>Status</th>
                                        <th></th>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat-start="order in pagerOrderShipping.paginatedList">
                                            <td>{{$index +1}}</td>
                                            <td>{{order.id}}</td>
                                            <td>{{order.createDate | date: 'dd-MM-yyyy'}}</td>
                                            <td>{{order.fullname}}</td>
                                            <td>{{order.address}}</td>
                                            <td>{{order.totalAmount | number : 0}} đ</td>
                                            <td ng-if="order.status === 3">Đang giao hàng</td>
                                            <td>
                                                <button class="btn btn-success"
                                                    ng-click="updateOrder.successOrder(order.id)">
                                                    <i class="bi bi-check-circle-fill"></i>
                                                </button>
                                                <button class="btn btn-danger"
                                                    ng-click="updateOrder.cancelOrder(order.id)">
                                                    <i class="bi bi-x-circle-fill"></i>
                                                </button>
                                                <button class="btn btn-dark" data-bs-toggle="modal"
                                                    data-bs-target="#shippingModal">
                                                    <i class="bi bi-eye-fill"></i>
                                                </button>
                                            </td>
                                        </tr>
                                        <tr ng-repeat-end></tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="d-flex justify-content-between align-items-center pt-2 pb-0">
                                <div class="fw-normal" style="font-size: 18px;">
                                    Showing {{pagerOrderShipping.page + 1}} of {{pagerOrderShipping.count}} entries
                                </div>
                                <nav aria-label="Page navigation">
                                    <ul class="pagination justify-content-end">
                                        <li class="page-item">
                                            <button class="page-link" tabindex="-1" aria-disabled="true"
                                                ng-click="pagerOrderShipping.first()">
                                                <i class="bi bi-skip-start-circle-fill"></i>
                                            </button>
                                        </li>
                                        <li class="page-item">
                                            <button class="page-link" tabindex="-1" aria-disabled="true"
                                                ng-click="pagerOrderShipping.prev()">
                                                <i class="bi bi-caret-left-fill"></i>
                                            </button>
                                        </li>
                                        <li class="page-item"><button class="page-link">{{pagerOrderShipping.page +
                                                1}}</button></li>
                                        <li class="page-item">
                                            <button class="page-link" ng-click="pagerOrderShipping.next()">
                                                <i class="bi bi-caret-right-fill"></i>
                                            </button>
                                        </li>
                                        <li class="page-item">
                                            <button class="page-link" ng-click="pagerOrderShipping.last()">
                                                <i class="bi bi-skip-end-circle-fill"></i>
                                            </button>
                                        </li>
                                    </ul>
                                </nav>
                            </div>
                        </div>
                    </div>
                    <!-- Modal Shipping -->
                    <div class="modal fade" id="shippingModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                        aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel">
                                        <i class="bi bi-pencil-square pe-2"></i>
                                        Shipping
                                    </h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <div class="container hs-hd mx-auto">
                                        <h5 class="title-hs col-md-12">Hóa đơn</h5>
                                        <div class="row">
                                            <div class="col-md-6 cnt-hd border-right">
                                                <div class="info-pair">
                                                    <h6>Order ID:</h6>
                                                    <p>#{{listOrder[0].id_order}}</p>
                                                </div>
                                                <div class="info-pair">
                                                    <h6>Order Date:</h6>
                                                    <p>{{listOrder[0].order_createDate | date :'dd-MM-yyyy'}}</p>
                                                </div>
                                                <!-- Thêm thông tin khác nếu cần -->
                                            </div>
                                            <div class="col-md-6 cnt-hd">
                                                <div class="info-pair">
                                                    <h6>Thanh toán:</h6>
                                                    <p>Tiền mặt</p>
                                                </div>
                                                <div class="info-pair">
                                                    <h6>Vận chuyển:</h6>
                                                    <p>Shipper</p>
                                                </div>
                                                <!-- Thêm thông tin khác nếu cần -->
                                            </div>
                                        </div>
                                    </div>
                                    <div class="container hs-hd mx-auto" style="margin-top: 30px;">
                                        <h5 class="title-hs col-md-12">Địa chỉ giao hàng</h5>
                                        <div class="row">
                                            <div class="col-md-6 cnt-hd border-right">
                                                <div class="info-pair">
                                                    <h6>Họ và tên:</h6>
                                                    <p>{{listOrder[0].account_fullname}}</p>
                                                </div>
                                                <div class="info-pair">
                                                    <h6>Số điện thoại:</h6>
                                                    <p>{{listOrder[0].account_fullname}}</p>
                                                </div>
                                                <div class="info-pair">
                                                    <h6>Địa chỉ:</h6>
                                                    <p>{{listOrder[0].order_address}}</p>
                                                </div>
                                            </div>
                                            <div class="col-md-6 cnt-hd">
                                                <div class="info-pair">
                                                    <h6>Tỉnh/Thành phố:</h6>
                                                    <p>Hồ Chí Minh</p>
                                                </div>
                                                <div class="info-pair">
                                                    <h6>Quận/Huyện:</h6>
                                                    <p>Thủ Đức</p>
                                                </div>
                                                <div class="info-pair">
                                                    <h6>Phường/Xã:</h6>
                                                    <p>Hiệp Bình Phước</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="container" style="margin-top: 30px; padding: 0;">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <table class="table table-bordered table-details">
                                                    <thead class="table-dark">
                                                        <tr>
                                                            <th>No.</th>
                                                            <th>Hình ảnh</th>
                                                            <th>Tên sản phẩm</th>
                                                            <th>Số lượng</th>
                                                            <th>Size</th>
                                                            <th>Giá</th>
                                                            <th>Tổng tiền</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat="orderDetail in listOrder">
                                                            <td>{{$index + 1}}</td>
                                                            <td><img ng-src="{{'/img/gallery/' + orderDetail.product_image}}"
                                                                    class="img-fluid img-details"></td>
                                                            <td>{{orderDetail.product_name}}</td>
                                                            <td>{{orderDetail.quantity}}</td>
                                                            <td ng-if="orderDetail.id_size === 1">S</td>
                                                            <td ng-if="orderDetail.id_size === 2">M</td>
                                                            <td ng-if="orderDetail.id_size === 3">L</td>
                                                            <td>{{orderDetail.price | number : 0}} đ</td>
                                                            <td>{{orderDetail.quantity * orderDetail.price | number :0}}
                                                                đ</td>
                                                        </tr>
                                                        <tr>
                                                            <td colspan="5" class="text-end"><strong>Tạm
                                                                    tính:</strong></td>
                                                            <td>{{getSubTotal() | number : 0}} đ</td>
                                                        </tr>
                                                        <tr>
                                                            <td colspan="5" class="text-end"><strong>Chi phí vận
                                                                    chuyển:</strong>
                                                            </td>
                                                            <td>20.000 đ</td>
                                                        </tr>
                                                        <tr>
                                                            <td colspan="5" class="text-end"><strong>Tổng thanh
                                                                    toán:</strong></td>
                                                            <th class="text-success">{{getTotal() | number : 0}} đ</th>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mt-2" style="font-size: 20px;">
                                        <label for="shippingOrderStatus" class="form-label fw-bold mb-3">
                                            Order Status:</label>
                                        <span class="fw-bold text-primary ps-1">Đang giao hàng</span>
                                    </div>
                                    <!-- Add more input fields here based on your table columns -->
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary"
                                        data-bs-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Bảng cho trạng thái success -->
                    <div class="card" style="border-radius: 0px; margin-bottom: 40px;" id="order-success">
                        <div class="card-header d-flex justify-content-between align-items-center">
                            <h4 class="text-success mb-0"><i class="fas fa-table me-1"></i> Success</h4>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover table-bordered text-center order-datatable">
                                    <thead class="table-dark">
                                        <th>No</th>
                                        <th>ID</th>
                                        <th>CreateDate</th>
                                        <th>Fullname</th>
                                        <th>Address</th>
                                        <th>Total Amount</th>
                                        <th>Status</th>
                                        <th></th>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat-start="order in pagerOrderSuccess.paginatedList">
                                            <td>{{$index + 1}}</td>
                                            <td>{{order.id}}</td>
                                            <td>{{order.createDate | date: 'dd-MM-yyyy'}}</td>
                                            <td>{{order.fullname}}</td>
                                            <td>{{order.address}}</td>
                                            <td>{{order.totalAmount | number : 0}} đ</td>
                                            <td ng-if="order.status === 4"> Đã giao hàng</td>
                                            <td>
                                                <button class="btn btn-dark" data-bs-toggle="modal"
                                                    ng-click="selectOrder(order.id)" data-bs-target="#successModal">
                                                    <i class="bi bi-eye-fill"></i>
                                                </button>
                                            </td>
                                        </tr>
                                        <tr ng-repeat-end></tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="d-flex justify-content-between align-items-center pt-2 pb-0">
                                <div class="fw-normal" style="font-size: 18px;">
                                    Showing {{pagerOrderSuccess.page + 1}} of {{pagerOrderSuccess.count}} entries
                                </div>
                                <nav aria-label="Page navigation">
                                    <ul class="pagination justify-content-end">
                                        <li class="page-item">
                                            <button class="page-link" tabindex="-1" aria-disabled="true"
                                                ng-click="pagerOrderSuccess.first()">
                                                <i class="bi bi-skip-start-circle-fill"></i>
                                            </button>
                                        </li>
                                        <li class="page-item">
                                            <button class="page-link" tabindex="-1" aria-disabled="true"
                                                ng-click="pagerOrderSuccess.prev()">
                                                <i class="bi bi-caret-left-fill"></i>
                                            </button>
                                        </li>
                                        <li class="page-item"><button class="page-link">{{pagerOrderSuccess.page +
                                                1}}</button></li>
                                        <li class="page-item">
                                            <button class="page-link" ng-click="pagerOrderSuccess.next()">
                                                <i class="bi bi-caret-right-fill"></i>
                                            </button>
                                        </li>
                                        <li class="page-item">
                                            <button class="page-link" ng-click="pagerOrderSuccess.last()">
                                                <i class="bi bi-skip-end-circle-fill"></i>
                                            </button>
                                        </li>
                                    </ul>
                                </nav>
                            </div>

                        </div>
                    </div>
                    <!-- Modal Success -->
                    <div class="modal fade" id="successModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                        aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel">
                                        <i class="bi bi-pencil-square pe-2"></i>
                                        Success
                                    </h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <div class="container hs-hd mx-auto">
                                        <h5 class="title-hs col-md-12">Hóa đơn</h5>
                                        <div class="row">
                                            <div class="col-md-6 cnt-hd border-right">
                                                <div class="info-pair">
                                                    <h6>Order ID:</h6>
                                                    <p>#{{listOrder[0].id_order}}</p>
                                                </div>
                                                <div class="info-pair">
                                                    <h6>Order Date:</h6>
                                                    <p>{{listOrder[0].order_createDate | date :'dd-MM-yyyy'}}</p>
                                                </div>
                                                <!-- Thêm thông tin khác nếu cần -->
                                            </div>
                                            <div class="col-md-6 cnt-hd">
                                                <div class="info-pair">
                                                    <h6>Thanh toán:</h6>
                                                    <p>Tiền mặt</p>
                                                </div>
                                                <div class="info-pair">
                                                    <h6>Vận chuyển:</h6>
                                                    <p>Shipper</p>
                                                </div>
                                                <!-- Thêm thông tin khác nếu cần -->
                                            </div>
                                        </div>
                                    </div>
                                    <div class="container hs-hd mx-auto" style="margin-top: 30px;">
                                        <h5 class="title-hs col-md-12">Địa chỉ giao hàng</h5>
                                        <div class="row">
                                            <div class="col-md-6 cnt-hd border-right">
                                                <div class="info-pair">
                                                    <h6>Họ và tên:</h6>
                                                    <p>{{listOrder[0].account_fullname}}</p>
                                                </div>
                                                <div class="info-pair">
                                                    <h6>Số điện thoại:</h6>
                                                    <p>{{listOrder[0].account_phone}}</p>
                                                </div>
                                                <div class="info-pair">
                                                    <h6>Địa chỉ:</h6>
                                                    <p>{{listOrder[0].order_address}}
                                                    </p>
                                                </div>
                                            </div>
                                            <div class="col-md-6 cnt-hd">
                                                <div class="info-pair">
                                                    <h6>Tỉnh/Thành phố:</h6>
                                                    <p>Hồ Chí Minh</p>
                                                </div>
                                                <div class="info-pair">
                                                    <h6>Quận/Huyện:</h6>
                                                    <p>Thủ Đức</p>
                                                </div>
                                                <div class="info-pair">
                                                    <h6>Phường/Xã:</h6>
                                                    <p>Hiệp Bình Phước</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="container" style="margin-top: 30px; padding: 0;">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <table class="table table-bordered table-details">
                                                    <thead class="table-dark">
                                                        <tr>
                                                            <th>No.</th>
                                                            <th>Hình ảnh</th>
                                                            <th>Tên sản phẩm</th>
                                                            <th>Số lượng</th>
                                                            <th>Size</th>
                                                            <th>Giá</th>
                                                            <th>Tổng tiền</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat="orderDetail in listOrder">
                                                            <td>{{$index + 1}}</td>
                                                            <td><img ng-src="{{'/img/gallery/' + orderDetail.product_image}}"
                                                                    class="img-fluid img-details"></td>
                                                            <td>{{orderDetail.product_name}}</td>
                                                            <td>{{orderDetail.quantity}}</td>
                                                            <td ng-if="orderDetail.id_size === 1">S</td>
                                                            <td ng-if="orderDetail.id_size === 2">M</td>
                                                            <td ng-if="orderDetail.id_size === 3">L</td>
                                                            <td>{{orderDetail.price | number : 0}} đ</td>
                                                            <td>{{orderDetail.quantity * orderDetail.price | number :0}}
                                                                đ</td>
                                                        </tr>
                                                        <tr>
                                                            <td colspan="5" class="text-end"><strong>Tạm
                                                                    tính:</strong></td>
                                                            <td>{{getSubTotal() | number : 0}} đ</td>
                                                        </tr>
                                                        <tr>
                                                            <td colspan="5" class="text-end"><strong>Chi phí vận
                                                                    chuyển:</strong>
                                                            </td>
                                                            <td>20.000 đ</td>
                                                        </tr>
                                                        <tr>
                                                            <td colspan="5" class="text-end"><strong>Tổng thanh
                                                                    toán:</strong></td>
                                                            <th class="text-success">{{getTotal() | number : 0}} đ</th>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mt-2" style="font-size: 20px;">
                                        <label for="successOrderStatus" class="form-label fw-bold mb-3">
                                            Order Status:</label>
                                        <span class="fw-bold text-success ps-1">Đã giao hàng</span>
                                    </div>
                                    <!-- Add more input fields here based on your table columns -->
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary"
                                        data-bs-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Bảng cho trạng thái cancel -->
                    <div class="card" style="border-radius: 0px; margin-bottom: 30px;" id="order-cancel">
                        <div class="card-header d-flex justify-content-between align-items-center">
                            <h4 class="mb-0 text-danger"><i class="fas fa-table me-1"></i> Cancel</h4>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover table-bordered text-center order-datatable">
                                    <thead class="table-dark">
                                        <th>No</th>
                                        <th>ID</th>
                                        <th>CreateDate</th>
                                        <th>Fullname</th>
                                        <th>Address</th>
                                        <th>Total Amount</th>
                                        <th>Status</th>
                                        <th></th>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat-start="order in pagerOrderCancel.paginatedList">
                                            <td>{{$index + 1 }}</td>
                                            <td>{{order.id}}</td>
                                            <td>{{order.createDate | date: 'dd-MM-yyyy'}}</td>
                                            <td>{{order.fullname}}</td>
                                            <td>{{order.address}}</td>
                                            <td>{{order.totalAmount | number : 0}} đ</td>
                                            <td ng-if="order.status === 5"> Đã hủy</td>
                                            <td>
                                                <button class="btn btn-danger"
                                                    ng-click="updateOrder.resetOrder(order.id)">
                                                    <i class="bi bi-arrow-clockwise"></i>
                                                </button>
                                                <button class="btn btn-dark" data-bs-toggle="modal"
                                                    ng-click="selectOrder(order.id)" data-bs-target="#cancelModal">
                                                    <i class="bi bi-eye-fill"></i>
                                                </button>
                                            </td>
                                        </tr>
                                        <tr ng-repeat-end></tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="d-flex justify-content-between align-items-center pt-2 pb-0">
                                <div class="fw-normal" style="font-size: 18px;">
                                    Showing {{pagerOrderCancel.page + 1}} of {{pagerOrderCancel.count}} entries
                                </div>
                                <nav aria-label="Page navigation">
                                    <ul class="pagination justify-content-end">
                                        <li class="page-item">
                                            <button class="page-link" tabindex="-1" aria-disabled="true"
                                                ng-click="pagerOrderCancel.first()">
                                                <i class="bi bi-skip-start-circle-fill"></i>
                                            </button>
                                        </li>
                                        <li class="page-item">
                                            <button class="page-link" tabindex="-1" aria-disabled="true"
                                                ng-click="pagerOrderCancel.prev()">
                                                <i class="bi bi-caret-left-fill"></i>
                                            </button>
                                        </li>
                                        <li class="page-item"><button class="page-link">{{pagerOrderCancel.page + 1
                                                }}</button></li>
                                        <li class="page-item">
                                            <button class="page-link" ng-click="pagerOrderCancel.next()">
                                                <i class="bi bi-caret-right-fill"></i>
                                            </button>
                                        </li>
                                        <li class="page-item">
                                            <button class="page-link" ng-click="pagerOrderCancel.last()">
                                                <i class="bi bi-skip-end-circle-fill"></i>
                                            </button>
                                        </li>
                                    </ul>
                                </nav>
                            </div>
                        </div>
                    </div>
                    <!-- Modal Cancel -->
                    <div class="modal fade" id="cancelModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                        aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel">
                                        <i class="bi bi-pencil-square pe-2"></i>
                                        Cancel
                                    </h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <div class="container hs-hd mx-auto">
                                        <h5 class="title-hs col-md-12">Hóa đơn</h5>
                                        <div class="row">
                                            <div class="col-md-6 cnt-hd border-right">
                                                <div class="info-pair">
                                                    <h6>Order ID:</h6>
                                                    <p>#{{listOrder[0].id_order}}</p>
                                                </div>
                                                <div class="info-pair">
                                                    <h6>Order Date:</h6>
                                                    <p>{{listOrder[0].order_createDate | date :'dd-MM-yyyy'}}</p>
                                                </div>
                                                <!-- Thêm thông tin khác nếu cần -->
                                            </div>
                                            <div class="col-md-6 cnt-hd">
                                                <div class="info-pair">
                                                    <h6>Thanh toán:</h6>
                                                    <p>Tiền mặt</p>
                                                </div>
                                                <div class="info-pair">
                                                    <h6>Vận chuyển:</h6>
                                                    <p>Shipper</p>
                                                </div>
                                                <!-- Thêm thông tin khác nếu cần -->
                                            </div>
                                        </div>
                                    </div>
                                    <div class="container hs-hd mx-auto" style="margin-top: 30px;">
                                        <h5 class="title-hs col-md-12">Địa chỉ giao hàng</h5>
                                        <div class="row">
                                            <div class="col-md-6 cnt-hd border-right">
                                                <div class="info-pair">
                                                    <h6>Họ và tên:</h6>
                                                    <p>{{listOrder[0].account_fullname}}</p>
                                                </div>
                                                <div class="info-pair">
                                                    <h6>Số điện thoại:</h6>
                                                    <p>{{listOrder[0].account_phone}}</p>
                                                </div>
                                                <div class="info-pair">
                                                    <h6>Địa chỉ:</h6>
                                                    <p>{{listOrder[0].order_address}}</p>
                                                </div>
                                            </div>
                                            <div class="col-md-6 cnt-hd">
                                                <div class="info-pair">
                                                    <h6>Tỉnh/Thành phố:</h6>
                                                    <p>Hồ Chí Minh</p>
                                                </div>
                                                <div class="info-pair">
                                                    <h6>Quận/Huyện:</h6>
                                                    <p>Thủ Đức</p>
                                                </div>
                                                <div class="info-pair">
                                                    <h6>Phường/Xã:</h6>
                                                    <p>Hiệp Bình Phước</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="container" style="margin-top: 30px; padding: 0;">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <table class="table table-bordered table-details">
                                                    <thead class="table-dark">
                                                        <tr>
                                                            <th>No.</th>
                                                            <th>Hình ảnh</th>
                                                            <th>Tên sản phẩm</th>
                                                            <th>Số lượng</th>
                                                            <th>Size</th>
                                                            <th>Giá</th>
                                                            <th>Tổng tiền</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat="orderDetail in listOrder">
                                                            <td>{{$index + 1}}</td>
                                                            <td><img ng-src="{{'/img/gallery/' + orderDetail.product_image}}"
                                                                    class="img-fluid img-details"></td>
                                                            <td>{{orderDetail.product_name}}</td>
                                                            <td>{{orderDetail.quantity}}</td>
                                                            <td ng-if="orderDetail.id_size === 1">S</td>
                                                            <td ng-if="orderDetail.id_size === 2">M</td>
                                                            <td ng-if="orderDetail.id_size === 3">L</td>
                                                            <td>{{orderDetail.price | number : 0}} đ</td>
                                                            <td>{{orderDetail.quantity * orderDetail.price | number :0}}
                                                                đ</td>
                                                        </tr>
                                                        <tr>
                                                            <td colspan="5" class="text-end"><strong>Tạm
                                                                    tính:</strong></td>
                                                            <td>{{getSubTotal() | number : 0}} đ</td>
                                                        </tr>
                                                        <tr>
                                                            <td colspan="5" class="text-end"><strong>Chi phí vận
                                                                    chuyển:</strong>
                                                            </td>
                                                            <td>20.000 đ</td>
                                                        </tr>
                                                        <tr>
                                                            <td colspan="5" class="text-end"><strong>Tổng
                                                                    toán:</strong></td>
                                                            <th class="text-success">{{getTotal() | number : 0}} đ</th>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mt-2" style="font-size: 20px;">
                                        <label for="cancelOrderStatus" class="form-label fw-bold mb-3">
                                            Order Status:</label>
                                        <span class="fw-bold text-danger ps-1">Đã hủy</span>
                                    </div>
                                    <!-- Add more input fields here based on your table columns -->
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary"
                                        data-bs-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </div>
                    </div>
            </main>
            <div th:replace="~{/admin/component/footer.html}"></div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        crossorigin="anonymous"></script>

    <script src="/js/admin/order.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" crossorigin="anonymous"></script>

</body>

</html>